/*C322*/SET SCHEMA PUBLIC
drop table if exists favourite cascade 
drop table if exists offer cascade 
drop table if exists post cascade 
drop table if exists review cascade 
drop table if exists user cascade 
create table favourite (id bigint generated by default as identity, target_id bigint, user_id bigint, primary key (id))
create table offer (publish_date date, id bigint generated by default as identity, offer bigint, post_id bigint, user_id bigint, primary key (id))
create table post (publish_date date, purchase_date date, buyer_id bigint, id bigint generated by default as identity, seller_id bigint, starting_price bigint, title varchar(255), post_image clob, primary key (id))
create table review (publish_date date, author_id bigint, id bigint generated by default as identity, user_id bigint, content varchar(255), primary key (id))
create table user (registration_date date, finted_coin_balance bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), user_address_city varchar(255), user_address_number varchar(255), user_address_route varchar(255), username varchar(255) unique, primary key (id))
alter table if exists favourite add constraint FKrt80salddi6dkjqd5cryodj3h foreign key (target_id) references user
alter table if exists favourite add constraint FK83lccer6s8bgj5jgjwan5eipk foreign key (user_id) references user
alter table if exists offer add constraint FKlbr3ol1p0b5wb3sra7kljhhqt foreign key (post_id) references post
alter table if exists offer add constraint FKo0rdvexlxmyakcvw8b5aqidlk foreign key (user_id) references user
alter table if exists post add constraint FKie9ax41b5pt2s0gcmb28xhcf2 foreign key (buyer_id) references user
alter table if exists post add constraint FK50jwnhnyevk2kxvt29cetcg9h foreign key (seller_id) references user
alter table if exists review add constraint FKhaxvalsvi9mqlu2kq5ev0wgys foreign key (author_id) references user
alter table if exists review add constraint FKiyf57dy48lyiftdrf7y87rnxi foreign key (user_id) references user
drop table if exists favourite cascade 
drop table if exists offer cascade 
drop table if exists post cascade 
drop table if exists review cascade 
drop table if exists user cascade 
DISCONNECT
/*C323*/SET SCHEMA PUBLIC
DISCONNECT
/*C324*/SET SCHEMA PUBLIC
DISCONNECT
/*C325*/SET SCHEMA PUBLIC
DISCONNECT
/*C326*/SET SCHEMA PUBLIC
DISCONNECT
/*C327*/SET SCHEMA PUBLIC
DISCONNECT
/*C328*/SET SCHEMA PUBLIC
DISCONNECT
/*C329*/SET SCHEMA PUBLIC
DISCONNECT
/*C330*/SET SCHEMA PUBLIC
DISCONNECT
/*C331*/SET SCHEMA PUBLIC
DISCONNECT
/*C332*/SET SCHEMA PUBLIC
drop table if exists favourite cascade 
drop table if exists offer cascade 
drop table if exists post cascade 
drop table if exists review cascade 
drop table if exists user cascade 
create table favourite (id bigint generated by default as identity, target_id bigint, user_id bigint, primary key (id))
create table offer (publish_date date, id bigint generated by default as identity, offer bigint, post_id bigint, user_id bigint, primary key (id))
create table post (publish_date date, purchase_date date, buyer_id bigint, id bigint generated by default as identity, seller_id bigint, starting_price bigint, title varchar(255), post_image clob, primary key (id))
create table review (publish_date date, author_id bigint, id bigint generated by default as identity, user_id bigint, content varchar(255), primary key (id))
create table user (registration_date date, finted_coin_balance bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), user_address_city varchar(255), user_address_number varchar(255), user_address_route varchar(255), username varchar(255) unique, primary key (id))
alter table if exists favourite add constraint FKrt80salddi6dkjqd5cryodj3h foreign key (target_id) references user
alter table if exists favourite add constraint FK83lccer6s8bgj5jgjwan5eipk foreign key (user_id) references user
alter table if exists offer add constraint FKlbr3ol1p0b5wb3sra7kljhhqt foreign key (post_id) references post
alter table if exists offer add constraint FKo0rdvexlxmyakcvw8b5aqidlk foreign key (user_id) references user
alter table if exists post add constraint FKie9ax41b5pt2s0gcmb28xhcf2 foreign key (buyer_id) references user
alter table if exists post add constraint FK50jwnhnyevk2kxvt29cetcg9h foreign key (seller_id) references user
alter table if exists review add constraint FKhaxvalsvi9mqlu2kq5ev0wgys foreign key (author_id) references user
alter table if exists review add constraint FKiyf57dy48lyiftdrf7y87rnxi foreign key (user_id) references user
drop table if exists favourite cascade 
drop table if exists offer cascade 
drop table if exists post cascade 
drop table if exists review cascade 
drop table if exists user cascade 
DISCONNECT
/*C333*/SET SCHEMA PUBLIC
DISCONNECT
/*C334*/SET SCHEMA PUBLIC
DISCONNECT
/*C335*/SET SCHEMA PUBLIC
DISCONNECT
/*C336*/SET SCHEMA PUBLIC
DISCONNECT
/*C337*/SET SCHEMA PUBLIC
DISCONNECT
/*C338*/SET SCHEMA PUBLIC
DISCONNECT
/*C339*/SET SCHEMA PUBLIC
DISCONNECT
/*C340*/SET SCHEMA PUBLIC
DISCONNECT
/*C341*/SET SCHEMA PUBLIC
DISCONNECT
/*C342*/SET SCHEMA PUBLIC
drop table if exists favourite cascade 
drop table if exists offer cascade 
drop table if exists post cascade 
drop table if exists review cascade 
drop table if exists user cascade 
create table favourite (id bigint generated by default as identity, target_id bigint, user_id bigint, primary key (id))
create table offer (publish_date date, id bigint generated by default as identity, offer bigint, post_id bigint, user_id bigint, primary key (id))
create table post (publish_date date, purchase_date date, buyer_id bigint, id bigint generated by default as identity, seller_id bigint, starting_price bigint, title varchar(255), post_image clob, primary key (id))
create table review (publish_date date, author_id bigint, id bigint generated by default as identity, user_id bigint, content varchar(255), primary key (id))
create table user (registration_date date, finted_coin_balance bigint, id bigint generated by default as identity, email varchar(255) unique, first_name varchar(255), last_name varchar(255), password varchar(255), user_address_city varchar(255), user_address_number varchar(255), user_address_route varchar(255), username varchar(255) unique, primary key (id))
alter table if exists favourite add constraint FKrt80salddi6dkjqd5cryodj3h foreign key (target_id) references user
alter table if exists favourite add constraint FK83lccer6s8bgj5jgjwan5eipk foreign key (user_id) references user
alter table if exists offer add constraint FKlbr3ol1p0b5wb3sra7kljhhqt foreign key (post_id) references post
alter table if exists offer add constraint FKo0rdvexlxmyakcvw8b5aqidlk foreign key (user_id) references user
alter table if exists post add constraint FKie9ax41b5pt2s0gcmb28xhcf2 foreign key (buyer_id) references user
alter table if exists post add constraint FK50jwnhnyevk2kxvt29cetcg9h foreign key (seller_id) references user
alter table if exists review add constraint FKhaxvalsvi9mqlu2kq5ev0wgys foreign key (author_id) references user
alter table if exists review add constraint FKiyf57dy48lyiftdrf7y87rnxi foreign key (user_id) references user
DISCONNECT
/*C343*/SET SCHEMA PUBLIC
DISCONNECT
/*C347*/SET SCHEMA PUBLIC
DISCONNECT
/*C346*/SET SCHEMA PUBLIC
DISCONNECT
/*C344*/SET SCHEMA PUBLIC
DISCONNECT
/*C350*/SET SCHEMA PUBLIC
DISCONNECT
/*C345*/SET SCHEMA PUBLIC
DISCONNECT
/*C348*/SET SCHEMA PUBLIC
DISCONNECT
/*C351*/SET SCHEMA PUBLIC
DISCONNECT
/*C349*/SET SCHEMA PUBLIC
DISCONNECT
/*C354*/SET SCHEMA PUBLIC
DISCONNECT
/*C360*/SET SCHEMA PUBLIC
DISCONNECT
/*C356*/SET SCHEMA PUBLIC
DISCONNECT
/*C353*/SET SCHEMA PUBLIC
DISCONNECT
/*C361*/SET SCHEMA PUBLIC
DISCONNECT
/*C357*/SET SCHEMA PUBLIC
DISCONNECT
/*C352*/SET SCHEMA PUBLIC
DISCONNECT
/*C358*/SET SCHEMA PUBLIC
DISCONNECT
/*C355*/SET SCHEMA PUBLIC
DISCONNECT
/*C359*/SET SCHEMA PUBLIC
DISCONNECT
/*C362*/SET SCHEMA PUBLIC
drop table if exists favourite cascade 
drop table if exists offer cascade 
drop table if exists post cascade 
drop table if exists review cascade 
drop table if exists user cascade 
DISCONNECT
/*C363*/SET SCHEMA PUBLIC
DISCONNECT
/*C364*/SET SCHEMA PUBLIC
DISCONNECT
/*C365*/SET SCHEMA PUBLIC
DISCONNECT
/*C366*/SET SCHEMA PUBLIC
DISCONNECT
/*C367*/SET SCHEMA PUBLIC
DISCONNECT
/*C368*/SET SCHEMA PUBLIC
DISCONNECT
/*C369*/SET SCHEMA PUBLIC
DISCONNECT
/*C370*/SET SCHEMA PUBLIC
DISCONNECT
/*C371*/SET SCHEMA PUBLIC
DISCONNECT
/*C372*/SET SCHEMA PUBLIC
create table favourite (id bigint generated by default as identity, target_id bigint, user_id bigint, primary key (id))
create table offer (id bigint generated by default as identity, offer bigint, publish_date date, post_id bigint, user_id bigint, primary key (id))
create table post (id bigint generated by default as identity, post_image clob, publish_date date, purchase_date date, starting_price bigint, title varchar(255), buyer_id bigint, seller_id bigint, primary key (id))
create table review (id bigint generated by default as identity, content varchar(255), publish_date date, author_id bigint, user_id bigint, primary key (id))
create table user (id bigint generated by default as identity, user_address_city varchar(255), user_address_number varchar(255), user_address_route varchar(255), finted_coin_balance bigint, email varchar(255), password varchar(255), username varchar(255), first_name varchar(255), last_name varchar(255), registration_date date, primary key (id))
alter table if exists user add constraint UK_ob8kqyqqgmefl0aco34akdtpe unique (email)
alter table if exists user add constraint UK_sb8bbouer5wak8vyiiy4pf2bx unique (username)
alter table if exists favourite add constraint FKrt80salddi6dkjqd5cryodj3h foreign key (target_id) references user
alter table if exists favourite add constraint FK83lccer6s8bgj5jgjwan5eipk foreign key (user_id) references user
alter table if exists offer add constraint FKlbr3ol1p0b5wb3sra7kljhhqt foreign key (post_id) references post
alter table if exists offer add constraint FKo0rdvexlxmyakcvw8b5aqidlk foreign key (user_id) references user
alter table if exists post add constraint FKie9ax41b5pt2s0gcmb28xhcf2 foreign key (buyer_id) references user
alter table if exists post add constraint FK50jwnhnyevk2kxvt29cetcg9h foreign key (seller_id) references user
alter table if exists review add constraint FKhaxvalsvi9mqlu2kq5ev0wgys foreign key (author_id) references user
alter table if exists review add constraint FKiyf57dy48lyiftdrf7y87rnxi foreign key (user_id) references user
